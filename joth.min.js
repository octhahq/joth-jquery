joth=function(a,b,c){function d(a){return a&&(f=a),f}var e={namedAttrs:[],attrs:[],modifyMethods:["post","put","patch"],algorithm:"aes",cipher:{aes:{getKeyAndIv(a){return{key:a.substr(0,32),iv:a.substr(32,16)}},encode(b,c){return c=e.cipher.aes.getKeyAndIv(c),a.CryptoJS.AES.encrypt(b,a.CryptoJS.enc.Utf8.parse(c.key),{iv:a.CryptoJS.enc.Utf8.parse(c.iv),mode:a.CryptoJS.mode.CBC}).toString()},decode(b,c){return c=e.cipher.aes.getKeyAndIv(c),a.CryptoJS.AES.decrypt(b,a.CryptoJS.enc.Utf8.parse(c.key),{iv:a.CryptoJS.enc.Utf8.parse(c.iv),mode:a.CryptoJS.mode.CBC}).toString(a.CryptoJS.enc.Utf8)}},urlsafeB64Encode(a){return a.replace(/\+/g,"-").replace(/\//g,".").replace(/=/g,"_")},urlsafeB64Decode(a){return a.replace(/-/g,"+").replace(/\./g,"/").replace(/_/g,"=")},init(){this.aes.parent=this}},secret(a){d(a)},to(a,...b){this.namedAttrs[a]=this.filter(b.flat(1/0))},setAttr(...a){for(k in a=this.filter(a.flat(1/0)),a)value=a[k],this.attrs.includes(value)||this.attrs.push(value)},modifyRequest(a,b){if(this.modifyMethods.includes(a.type.toLowerCase())&&null!==b.data&&"object"==typeof b.data){var c=b.data,d=this.getAttrs(a.url);Array.isArray(c)&&0<c.length&&"object"==typeof c[0]&&"name"in c[0]&&"value"in c[0]&&(c=c.reduce(function(a,b){return a[b.name]=b.value,a},{})),this.resolveAttrs(d,c,this.cipher.aes.encode),a.data=this.serialize(c)}},modifyResponse(b){if(this.isJson(b)){var b=a.JSON.parse(b),c=this.getAttrs(b.pathForJoth||"");return this.resolveAttrs(c,b,this.cipher.aes.decode),a.JSON.stringify(b)}},getAttrs(a){for(key in this.namedAttrs){var b=key.replace(/\*/g,".*"),c=new RegExp(`^${b}$`,"u"),d=new RegExp(`^${this.trim(b,"/")}$`,"u");if(c.test(a)||d.test(a))return this.namedAttrs[key]}return this.attrs},resolveAttrs(a,b,c){var e=d();if(e)for(key in a){var f=a[key];(value=this.getValue(b,f))&&this.setValue(b,f,c(value,e))}},serialize(a,b){var c,d=[];for(c in a)if(a.hasOwnProperty(c)){var e=b?b+"["+c+"]":c,f=a[c];d.push(null!==f&&"object"==typeof f?this.serialize(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return d.join("&")},filter(a){return this.unique(a.filter(Boolean).filter(a=>["string","number"].includes(typeof a)).map(String))},unique(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})},trim(a,b){return"]"===b&&(b="\\]"),"^"===b&&(b="\\^"),"\\"===b&&(b="\\\\"),a.replace(new RegExp("^["+b+"]+|["+b+"]+$","g"),"")},getValue(a,b,c=void 0){const d=c=>String.prototype.split.call(b,c).filter(Boolean).reduce((a,b)=>null!==a&&void 0!==a?a[b]:a,a),e=d(/[,[\]]+?/)||d(/[,[\].]+?/);return void 0===e||e===a?c:e},setValue(a,b,c){return Object(a)===a?(Array.isArray(b)||(b=b.toString().match(/[^.[\]]+/g)||[]),b.slice(0,-1).reduce((d,a,c)=>Object(d[a])===d[a]?d[a]:d[a]=Math.abs(b[c+1])>>0==+b[c+1]?[]:{},a)[b[b.length-1]]=c,a):a},isJson(a){try{return JSON.parse(a)&&!!a}catch(a){return!1}}},f="";return c.ajaxPrefilter(function(a,b){e.modifyRequest(a,b)}),c.ajaxSetup({dataFilter:function(a,b){return e.modifyResponse(a,b)}}),["https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"].forEach(function(a){var c=b.createElement("script");c.src=a,b.head.appendChild(c)}),e}(window,document,jQuery||window.jQuery||$||window.$);